<!DOCTYPE html>
<html>
<head>
  <title>node-sass</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/.bin/node-sass";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>node-sass</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-meta">#!/usr/bin/env node</span>

<span class="hljs-keyword">var</span> Emitter = <span class="hljs-built_in">require</span>(<span class="hljs-string">'events'</span>).EventEmitter,
  forEach = <span class="hljs-built_in">require</span>(<span class="hljs-string">'async-foreach'</span>).forEach,
  Gaze = <span class="hljs-built_in">require</span>(<span class="hljs-string">'gaze'</span>),
  meow = <span class="hljs-built_in">require</span>(<span class="hljs-string">'meow'</span>),
  util = <span class="hljs-built_in">require</span>(<span class="hljs-string">'util'</span>),
  path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>),
  glob = <span class="hljs-built_in">require</span>(<span class="hljs-string">'glob'</span>),
  sass = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../lib'</span>),
  render = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../lib/render'</span>),
  watcher = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../lib/watcher'</span>),
  stdout = <span class="hljs-built_in">require</span>(<span class="hljs-string">'stdout-stream'</span>),
  stdin = <span class="hljs-built_in">require</span>(<span class="hljs-string">'get-stdin'</span>),
  fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<div class="dox">
<div class="summary">
<p>Initialize CLI</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-keyword">var</span> cli = meow({
  <span class="hljs-attr">pkg</span>: <span class="hljs-string">'../package.json'</span>,
  <span class="hljs-attr">version</span>: sass.info,
  <span class="hljs-attr">help</span>: [
    <span class="hljs-string">'Usage:'</span>,
    <span class="hljs-string">'  node-sass [options] &lt;input.scss&gt;'</span>,
    <span class="hljs-string">'  cat &lt;input.scss&gt; | node-sass [options] &gt; output.css'</span>,
    <span class="hljs-string">''</span>,
    <span class="hljs-string">'Example: Compile foobar.scss to foobar.css'</span>,
    <span class="hljs-string">'  node-sass --output-style compressed foobar.scss &gt; foobar.css'</span>,
    <span class="hljs-string">'  cat foobar.scss | node-sass --output-style compressed &gt; foobar.css'</span>,
    <span class="hljs-string">''</span>,
    <span class="hljs-string">'Example: Watch the sass directory for changes, compile with sourcemaps to the css directory'</span>,
    <span class="hljs-string">'  node-sass --watch --recursive --output css'</span>,
    <span class="hljs-string">'    --source-map true --source-map-contents sass'</span>,
    <span class="hljs-string">''</span>,
    <span class="hljs-string">'Options'</span>,
    <span class="hljs-string">'  -w, --watch                Watch a directory or file'</span>,
    <span class="hljs-string">'  -r, --recursive            Recursively watch directories or files'</span>,
    <span class="hljs-string">'  -o, --output               Output directory'</span>,
    <span class="hljs-string">'  -x, --omit-source-map-url  Omit source map URL comment from output'</span>,
    <span class="hljs-string">'  -i, --indented-syntax      Treat data from stdin as sass code (versus scss)'</span>,
    <span class="hljs-string">'  -q, --quiet                Suppress log output except on error'</span>,
    <span class="hljs-string">'  -v, --version              Prints version info'</span>,
    <span class="hljs-string">'  --output-style             CSS output style (nested | expanded | compact | compressed)'</span>,
    <span class="hljs-string">'  --indent-type              Indent type for output CSS (space | tab)'</span>,
    <span class="hljs-string">'  --indent-width             Indent width; number of spaces or tabs (maximum value: 10)'</span>,
    <span class="hljs-string">'  --linefeed                 Linefeed style (cr | crlf | lf | lfcr)'</span>,
    <span class="hljs-string">'  --source-comments          Include debug info in output'</span>,
    <span class="hljs-string">'  --source-map               Emit source map (boolean, or path to output .map file)'</span>,
    <span class="hljs-string">'  --source-map-contents      Embed include contents in map'</span>,
    <span class="hljs-string">'  --source-map-embed         Embed sourceMappingUrl as data URI'</span>,
    <span class="hljs-string">'  --source-map-root          Base path, will be emitted in source-map as is'</span>,
    <span class="hljs-string">'  --include-path             Path to look for imported files'</span>,
    <span class="hljs-string">'  --follow                   Follow symlinked directories'</span>,
    <span class="hljs-string">'  --precision                The amount of precision allowed in decimal numbers'</span>,
    <span class="hljs-string">'  --error-bell               Output a bell character on errors'</span>,
    <span class="hljs-string">'  --importer                 Path to .js file containing custom importer'</span>,
    <span class="hljs-string">'  --functions                Path to .js file containing custom functions'</span>,
    <span class="hljs-string">'  --help                     Print usage info'</span>
  ].join(<span class="hljs-string">'\n'</span>)
}, {
  <span class="hljs-attr">boolean</span>: [
    <span class="hljs-string">'error-bell'</span>,
    <span class="hljs-string">'follow'</span>,
    <span class="hljs-string">'indented-syntax'</span>,
    <span class="hljs-string">'omit-source-map-url'</span>,
    <span class="hljs-string">'quiet'</span>,
    <span class="hljs-string">'recursive'</span>,
    <span class="hljs-string">'source-map-embed'</span>,
    <span class="hljs-string">'source-map-contents'</span>,
    <span class="hljs-string">'source-comments'</span>,
    <span class="hljs-string">'watch'</span>
  ],
  <span class="hljs-attr">string</span>: [
    <span class="hljs-string">'functions'</span>,
    <span class="hljs-string">'importer'</span>,
    <span class="hljs-string">'include-path'</span>,
    <span class="hljs-string">'indent-type'</span>,
    <span class="hljs-string">'linefeed'</span>,
    <span class="hljs-string">'output'</span>,
    <span class="hljs-string">'output-style'</span>,
    <span class="hljs-string">'precision'</span>,
    <span class="hljs-string">'source-map-root'</span>
  ],
  <span class="hljs-attr">alias</span>: {
    <span class="hljs-attr">c</span>: <span class="hljs-string">'source-comments'</span>,
    <span class="hljs-attr">i</span>: <span class="hljs-string">'indented-syntax'</span>,
    <span class="hljs-attr">q</span>: <span class="hljs-string">'quiet'</span>,
    <span class="hljs-attr">o</span>: <span class="hljs-string">'output'</span>,
    <span class="hljs-attr">r</span>: <span class="hljs-string">'recursive'</span>,
    <span class="hljs-attr">x</span>: <span class="hljs-string">'omit-source-map-url'</span>,
    <span class="hljs-attr">v</span>: <span class="hljs-string">'version'</span>,
    <span class="hljs-attr">w</span>: <span class="hljs-string">'watch'</span>
  },
  <span class="hljs-attr">default</span>: {
    <span class="hljs-string">'include-path'</span>: process.cwd(),
    <span class="hljs-string">'indent-type'</span>: <span class="hljs-string">'space'</span>,
    <span class="hljs-string">'indent-width'</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">linefeed</span>: <span class="hljs-string">'lf'</span>,
    <span class="hljs-string">'output-style'</span>: <span class="hljs-string">'nested'</span>,
    <span class="hljs-attr">precision</span>: <span class="hljs-number">5</span>,
    <span class="hljs-attr">quiet</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">recursive</span>: <span class="hljs-literal">true</span>
  }
});

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<div class="dox">
<div class="summary">
<p>Is a Directory</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">filePath</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isDirectory</span>(<span class="hljs-params">filePath</span>) </span>{
  <span class="hljs-keyword">var</span> isDir = <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">var</span> absolutePath = path.resolve(filePath);
    isDir = fs.statSync(absolutePath).isDirectory();
  } <span class="hljs-keyword">catch</span> (e) {
    isDir = e.code === <span class="hljs-string">'ENOENT'</span>;
  }
  <span class="hljs-keyword">return</span> isDir;
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<div class="dox">
<div class="summary">
<p>Get correct glob pattern</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">options</span>
<span class="dox_type">Object</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">globPattern</span>(<span class="hljs-params">options</span>) </span>{
  <span class="hljs-keyword">return</span> options.recursive ? <span class="hljs-string">'**/*.{sass,scss}'</span> : <span class="hljs-string">'*.{sass,scss}'</span>;
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<div class="dox">
<div class="summary">
<p>Create emitter</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getEmitter</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">var</span> emitter = <span class="hljs-keyword">new</span> Emitter();

  emitter.on(<span class="hljs-string">'error'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>) </span>{
    <span class="hljs-keyword">if</span> (options.errorBell) {
      err += <span class="hljs-string">'\x07'</span>;
    }
    <span class="hljs-built_in">console</span>.error(err);
    <span class="hljs-keyword">if</span> (!options.watch) {
      process.exit(<span class="hljs-number">1</span>);
    }
  });

  emitter.on(<span class="hljs-string">'warn'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) </span>{
    <span class="hljs-keyword">if</span> (!options.quiet) {
      <span class="hljs-built_in">console</span>.warn(data);
    }
  });

  emitter.on(<span class="hljs-string">'info'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) </span>{
    <span class="hljs-keyword">if</span> (!options.quiet) {
      <span class="hljs-built_in">console</span>.info(data);
    }
  });

  emitter.on(<span class="hljs-string">'log'</span>, stdout.write.bind(stdout));

  <span class="hljs-keyword">return</span> emitter;
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<div class="dox">
<div class="summary">
<p>Construct options</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">arguments</span>
<span class="dox_type">Array</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">options</span>
<span class="dox_type">Object</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getOptions</span>(<span class="hljs-params">args, options</span>) </span>{
  <span class="hljs-keyword">var</span> cssDir, sassDir, file, mapDir;
  options.src = args[<span class="hljs-number">0</span>];

  <span class="hljs-keyword">if</span> (args[<span class="hljs-number">1</span>]) {
    options.dest = path.resolve(args[<span class="hljs-number">1</span>]);
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (options.output) {
    options.dest = path.join(
      path.resolve(options.output),
      [path.basename(options.src, path.extname(options.src)), <span class="hljs-string">'.css'</span>].join(<span class="hljs-string">''</span>));  <span class="hljs-comment">// replace ext.</span>
  }

  <span class="hljs-keyword">if</span> (options.directory) {
    sassDir = path.resolve(options.directory);
    file = path.relative(sassDir, args[<span class="hljs-number">0</span>]);
    cssDir = path.resolve(options.output);
    options.dest = path.join(cssDir, file).replace(path.extname(file), <span class="hljs-string">'.css'</span>);
  }

  <span class="hljs-keyword">if</span> (options.sourceMap) {
    <span class="hljs-keyword">if</span>(!options.sourceMapOriginal) {
      options.sourceMapOriginal = options.sourceMap;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<p>check if sourceMap path ends with .map to avoid isDirectory false-positive</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">var</span> sourceMapIsDirectory = options.sourceMapOriginal.indexOf(<span class="hljs-string">'.map'</span>, options.sourceMapOriginal.length - <span class="hljs-number">4</span>) === <span class="hljs-number">-1</span> &amp;&amp; isDirectory(options.sourceMapOriginal);

    <span class="hljs-keyword">if</span> (options.sourceMapOriginal === <span class="hljs-string">'true'</span>) {
      options.sourceMap = options.dest + <span class="hljs-string">'.map'</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!sourceMapIsDirectory) {
      options.sourceMap = path.resolve(options.sourceMapOriginal);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (sourceMapIsDirectory) {
      <span class="hljs-keyword">if</span> (!options.directory) {
        options.sourceMap = path.resolve(options.sourceMapOriginal, path.basename(options.dest) + <span class="hljs-string">'.map'</span>);
      } <span class="hljs-keyword">else</span> {
        sassDir = path.resolve(options.directory);
        file = path.relative(sassDir, args[<span class="hljs-number">0</span>]);
        mapDir = path.resolve(options.sourceMapOriginal);
        options.sourceMap = path.join(mapDir, file).replace(path.extname(file), <span class="hljs-string">'.css.map'</span>);
      }
    }
  }

  <span class="hljs-keyword">return</span> options;
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8"></a>
</div>
<div class="dox">
<div class="summary">
<p>Watch</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">options</span>
<span class="dox_type">Object</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">emitter</span>
<span class="dox_type">Object</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">watch</span>(<span class="hljs-params">options, emitter</span>) </span>{
  <span class="hljs-keyword">var</span> handler = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">files</span>) </span>{
    files.added.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">file</span>) </span>{
      <span class="hljs-keyword">var</span> watch = gaze.watched();
      <span class="hljs-built_in">Object</span>.keys(watch).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">dir</span>) </span>{
        <span class="hljs-keyword">if</span> (watch[dir].indexOf(file) !== <span class="hljs-number">-1</span>) {
          gaze.add(file);
        }
      });
    });

    files.changed.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">file</span>) </span>{
      <span class="hljs-keyword">if</span> (path.basename(file)[<span class="hljs-number">0</span>] !== <span class="hljs-string">'_'</span>) {
        renderFile(file, options, emitter);
      }
    });

    files.removed.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">file</span>) </span>{
      gaze.remove(file);
    });
  };

  <span class="hljs-keyword">var</span> gaze = <span class="hljs-keyword">new</span> Gaze();
  gaze.add(watcher.reset(options));
  gaze.on(<span class="hljs-string">'error'</span>, emitter.emit.bind(emitter, <span class="hljs-string">'error'</span>));

  gaze.on(<span class="hljs-string">'changed'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">file</span>) </span>{
    handler(watcher.changed(file));
  });

  gaze.on(<span class="hljs-string">'added'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">file</span>) </span>{
    handler(watcher.added(file));
  });

  gaze.on(<span class="hljs-string">'deleted'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">file</span>) </span>{
    handler(watcher.removed(file));
  });
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9"></a>
</div>
<div class="dox">
<div class="summary">
<p>Run</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">options</span>
<span class="dox_type">Object</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">emitter</span>
<span class="dox_type">Object</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">run</span>(<span class="hljs-params">options, emitter</span>) </span>{
  <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">Array</span>.isArray(options.includePath)) {
    options.includePath = [options.includePath];
  }

  <span class="hljs-keyword">if</span> (options.directory) {
    <span class="hljs-keyword">if</span> (!options.output) {
      emitter.emit(<span class="hljs-string">'error'</span>, <span class="hljs-string">'An output directory must be specified when compiling a directory'</span>);
    }
    <span class="hljs-keyword">if</span> (!isDirectory(options.output)) {
      emitter.emit(<span class="hljs-string">'error'</span>, <span class="hljs-string">'An output directory must be specified when compiling a directory'</span>);
    }
  }

  <span class="hljs-keyword">if</span> (options.sourceMapOriginal &amp;&amp; options.directory &amp;&amp; !isDirectory(options.sourceMapOriginal) &amp;&amp; options.sourceMapOriginal !== <span class="hljs-string">'true'</span>) {
    emitter.emit(<span class="hljs-string">'error'</span>, <span class="hljs-string">'The --source-map option must be either a boolean or directory when compiling a directory'</span>);
  }

  <span class="hljs-keyword">if</span> (options.importer) {
    <span class="hljs-keyword">if</span> ((path.resolve(options.importer) === path.normalize(options.importer).replace(<span class="hljs-regexp">/(.+)([\/|\\])$/</span>, <span class="hljs-string">'$1'</span>))) {
      options.importer = <span class="hljs-built_in">require</span>(options.importer);
    } <span class="hljs-keyword">else</span> {
      options.importer = <span class="hljs-built_in">require</span>(path.resolve(options.importer));
    }
  }

  <span class="hljs-keyword">if</span> (options.functions) {
    <span class="hljs-keyword">if</span> ((path.resolve(options.functions) === path.normalize(options.functions).replace(<span class="hljs-regexp">/(.+)([\/|\\])$/</span>, <span class="hljs-string">'$1'</span>))) {
      options.functions = <span class="hljs-built_in">require</span>(options.functions);
    } <span class="hljs-keyword">else</span> {
      options.functions = <span class="hljs-built_in">require</span>(path.resolve(options.functions));
    }
  }

  <span class="hljs-keyword">if</span> (options.watch) {
    watch(options, emitter);
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (options.directory) {
    renderDir(options, emitter);
  } <span class="hljs-keyword">else</span> {
    render(options, emitter);
  }
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<div class="dox">
<div class="summary">
<p>Render a file</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">file</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">options</span>
<span class="dox_type">Object</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">emitter</span>
<span class="dox_type">Object</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">renderFile</span>(<span class="hljs-params">file, options, emitter</span>) </span>{
  options = getOptions([path.resolve(file)], options);
  <span class="hljs-keyword">if</span> (options.watch &amp;&amp; !options.quiet) {
    emitter.emit(<span class="hljs-string">'info'</span>, util.format(<span class="hljs-string">'=&gt; changed: %s'</span>, file));
  }
  render(options, emitter);
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11"></a>
</div>
<div class="dox">
<div class="summary">
<p>Render all sass files in a directory</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">options</span>
<span class="dox_type">Object</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">emitter</span>
<span class="dox_type">Object</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">renderDir</span>(<span class="hljs-params">options, emitter</span>) </span>{
  <span class="hljs-keyword">var</span> globPath = path.resolve(options.directory, globPattern(options));
  glob(globPath, { <span class="hljs-attr">ignore</span>: <span class="hljs-string">'**/_*'</span>, <span class="hljs-attr">follow</span>: options.follow }, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, files</span>) </span>{
    <span class="hljs-keyword">if</span> (err) {
      <span class="hljs-keyword">return</span> emitter.emit(<span class="hljs-string">'error'</span>, util.format(<span class="hljs-string">'You do not have permission to access this path: %s.'</span>, err.path));
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!files.length) {
      <span class="hljs-keyword">return</span> emitter.emit(<span class="hljs-string">'error'</span>, <span class="hljs-string">'No input file was found.'</span>);
    }

    forEach(files, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">subject</span>) </span>{
      emitter.once(<span class="hljs-string">'done'</span>, <span class="hljs-keyword">this</span>.async());
      renderFile(subject, options, emitter);
    }, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">successful, arr</span>) </span>{
      <span class="hljs-keyword">var</span> outputDir = path.join(process.cwd(), options.output);
      <span class="hljs-keyword">if</span> (!options.quiet) {
        emitter.emit(<span class="hljs-string">'info'</span>, util.format(<span class="hljs-string">'Wrote %s CSS files to %s'</span>, arr.length, outputDir));
      }
      process.exit();
    });
  });
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12"></a>
</div>
<div class="dox">
<div class="summary">
<p>Arguments and options</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-keyword">var</span> options = getOptions(cli.input, cli.flags);
<span class="hljs-keyword">var</span> emitter = getEmitter();

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13"></a>
</div>
<div class="dox">
<div class="summary">
<p>Show usage if no arguments are supplied</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-keyword">if</span> (!options.src &amp;&amp; process.stdin.isTTY) {
  emitter.emit(<span class="hljs-string">'error'</span>, [
    <span class="hljs-string">'Provide a Sass file to render'</span>,
    <span class="hljs-string">''</span>,
    <span class="hljs-string">'Example: Compile foobar.scss to foobar.css'</span>,
    <span class="hljs-string">'  node-sass --output-style compressed foobar.scss &gt; foobar.css'</span>,
    <span class="hljs-string">'  cat foobar.scss | node-sass --output-style compressed &gt; foobar.css'</span>,
    <span class="hljs-string">''</span>,
    <span class="hljs-string">'Example: Watch the sass directory for changes, compile with sourcemaps to the css directory'</span>,
    <span class="hljs-string">'  node-sass --watch --recursive --output css'</span>,
    <span class="hljs-string">'    --source-map true --source-map-contents sass'</span>,
  ].join(<span class="hljs-string">'\n'</span>));
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14"></a>
</div>
<div class="dox">
<div class="summary">
<p>Apply arguments</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-keyword">if</span> (options.src) {
  <span class="hljs-keyword">if</span> (isDirectory(options.src)) {
    options.directory = options.src;
  }
  run(options, emitter);
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!process.stdin.isTTY) {
  stdin(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) </span>{
    options.data = data;
    options.stdin = <span class="hljs-literal">true</span>;
    run(options, emitter);
  });
}

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
