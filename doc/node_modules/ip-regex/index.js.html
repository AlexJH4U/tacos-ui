<!DOCTYPE html>
<html>
<head>
  <title>index.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/ip-regex/index.js";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>index.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-meta">'use strict'</span>;

<span class="hljs-keyword">const</span> v4 = <span class="hljs-string">'(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(?:\\.(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])){3}'</span>;

<span class="hljs-keyword">const</span> v6seg = <span class="hljs-string">'[0-9a-fA-F]{1,4}'</span>;
<span class="hljs-keyword">const</span> v6 = <span class="hljs-string">`
(
(?:<span class="hljs-subst">${v6seg}</span>:){7}(?:<span class="hljs-subst">${v6seg}</span>|:)|                                // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:<span class="hljs-subst">${v6seg}</span>:){6}(?:<span class="hljs-subst">${v4}</span>|:<span class="hljs-subst">${v6seg}</span>|:)|                         // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:<span class="hljs-subst">${v6seg}</span>:){5}(?::<span class="hljs-subst">${v4}</span>|(:<span class="hljs-subst">${v6seg}</span>){1,2}|:)|                 // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:<span class="hljs-subst">${v6seg}</span>:){4}(?:(:<span class="hljs-subst">${v6seg}</span>){0,1}:<span class="hljs-subst">${v4}</span>|(:<span class="hljs-subst">${v6seg}</span>){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:<span class="hljs-subst">${v6seg}</span>:){3}(?:(:<span class="hljs-subst">${v6seg}</span>){0,2}:<span class="hljs-subst">${v4}</span>|(:<span class="hljs-subst">${v6seg}</span>){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:<span class="hljs-subst">${v6seg}</span>:){2}(?:(:<span class="hljs-subst">${v6seg}</span>){0,3}:<span class="hljs-subst">${v4}</span>|(:<span class="hljs-subst">${v6seg}</span>){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:<span class="hljs-subst">${v6seg}</span>:){1}(?:(:<span class="hljs-subst">${v6seg}</span>){0,4}:<span class="hljs-subst">${v4}</span>|(:<span class="hljs-subst">${v6seg}</span>){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::((?::<span class="hljs-subst">${v6seg}</span>){0,5}:<span class="hljs-subst">${v4}</span>|(?::<span class="hljs-subst">${v6seg}</span>){1,7}|:))           // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(%[0-9a-zA-Z]{1,})?                                           // %eth0            %1
`</span>.replace(<span class="hljs-regexp">/\s*\/\/.*$/gm</span>, <span class="hljs-string">''</span>).replace(<span class="hljs-regexp">/\n/g</span>, <span class="hljs-string">''</span>).trim();

<span class="hljs-keyword">const</span> ip = <span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-params">opts</span> =&gt;</span> opts &amp;&amp; opts.exact ?
	<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">`(?:^<span class="hljs-subst">${v4}</span>$)|(?:^<span class="hljs-subst">${v6}</span>$)`</span>) :
	<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">`(?:<span class="hljs-subst">${v4}</span>)|(?:<span class="hljs-subst">${v6}</span>)`</span>, <span class="hljs-string">'g'</span>);

ip.v4 = <span class="hljs-function"><span class="hljs-params">opts</span> =&gt;</span> opts &amp;&amp; opts.exact ? <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">`^<span class="hljs-subst">${v4}</span>$`</span>) : <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(v4, <span class="hljs-string">'g'</span>);
ip.v6 = <span class="hljs-function"><span class="hljs-params">opts</span> =&gt;</span> opts &amp;&amp; opts.exact ? <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">`^<span class="hljs-subst">${v6}</span>$`</span>) : <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(v6, <span class="hljs-string">'g'</span>);

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
