<!DOCTYPE html>
<html>
<head>
  <title>index.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/html-webpack-plugin/index.js";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>index.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-meta">'use strict'</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<p>use Polyfill for util.promisify in node versions &lt; v8</p>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-keyword">const</span> promisify = <span class="hljs-built_in">require</span>(<span class="hljs-string">'util.promisify'</span>);

<span class="hljs-keyword">const</span> vm = <span class="hljs-built_in">require</span>(<span class="hljs-string">'vm'</span>);
<span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);
<span class="hljs-keyword">const</span> _ = <span class="hljs-built_in">require</span>(<span class="hljs-string">'lodash'</span>);
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);
<span class="hljs-keyword">const</span> childCompiler = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./lib/compiler.js'</span>);
<span class="hljs-keyword">const</span> prettyError = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./lib/errors.js'</span>);
<span class="hljs-keyword">const</span> chunkSorter = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./lib/chunksorter.js'</span>);

<span class="hljs-keyword">const</span> fsStatAsync = promisify(fs.stat);
<span class="hljs-keyword">const</span> fsReadFileAsync = promisify(fs.readFile);

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HtmlWebpackPlugin</span> </span>{
  <span class="hljs-keyword">constructor</span> (options) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<p>Default options</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">this</span>.options = _.extend({
      <span class="hljs-attr">template</span>: path.join(__dirname, <span class="hljs-string">'default_index.ejs'</span>),
      <span class="hljs-attr">templateParameters</span>: templateParametersGenerator,
      <span class="hljs-attr">filename</span>: <span class="hljs-string">'index.html'</span>,
      <span class="hljs-attr">hash</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">inject</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">compile</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">favicon</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">minify</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">cache</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">showErrors</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">chunks</span>: <span class="hljs-string">'all'</span>,
      <span class="hljs-attr">excludeChunks</span>: [],
      <span class="hljs-attr">chunksSortMode</span>: <span class="hljs-string">'auto'</span>,
      <span class="hljs-attr">meta</span>: {},
      <span class="hljs-attr">title</span>: <span class="hljs-string">'Webpack App'</span>,
      <span class="hljs-attr">xhtml</span>: <span class="hljs-literal">false</span>
    }, options);
  }

  apply (compiler) {
    <span class="hljs-keyword">const</span> self = <span class="hljs-keyword">this</span>;
    <span class="hljs-keyword">let</span> isCompilationCached = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">let</span> compilationPromise;

    <span class="hljs-keyword">this</span>.options.template = <span class="hljs-keyword">this</span>.getFullTemplatePath(<span class="hljs-keyword">this</span>.options.template, compiler.context);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<p>convert absolute filename into relative so that webpack can
generate it at correct location</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">const</span> filename = <span class="hljs-keyword">this</span>.options.filename;
    <span class="hljs-keyword">if</span> (path.resolve(filename) === path.normalize(filename)) {
      <span class="hljs-keyword">this</span>.options.filename = path.relative(compiler.options.output.path, filename);
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<p>setup hooks for webpack 4</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (compiler.hooks) {
      compiler.hooks.compilation.tap(<span class="hljs-string">'HtmlWebpackPluginHooks'</span>, compilation =&gt; {
        <span class="hljs-keyword">const</span> SyncWaterfallHook = <span class="hljs-built_in">require</span>(<span class="hljs-string">'tapable'</span>).SyncWaterfallHook;
        <span class="hljs-keyword">const</span> AsyncSeriesWaterfallHook = <span class="hljs-built_in">require</span>(<span class="hljs-string">'tapable'</span>).AsyncSeriesWaterfallHook;
        compilation.hooks.htmlWebpackPluginAlterChunks = <span class="hljs-keyword">new</span> SyncWaterfallHook([<span class="hljs-string">'chunks'</span>, <span class="hljs-string">'objectWithPluginRef'</span>]);
        compilation.hooks.htmlWebpackPluginBeforeHtmlGeneration = <span class="hljs-keyword">new</span> AsyncSeriesWaterfallHook([<span class="hljs-string">'pluginArgs'</span>]);
        compilation.hooks.htmlWebpackPluginBeforeHtmlProcessing = <span class="hljs-keyword">new</span> AsyncSeriesWaterfallHook([<span class="hljs-string">'pluginArgs'</span>]);
        compilation.hooks.htmlWebpackPluginAlterAssetTags = <span class="hljs-keyword">new</span> AsyncSeriesWaterfallHook([<span class="hljs-string">'pluginArgs'</span>]);
        compilation.hooks.htmlWebpackPluginAfterHtmlProcessing = <span class="hljs-keyword">new</span> AsyncSeriesWaterfallHook([<span class="hljs-string">'pluginArgs'</span>]);
        compilation.hooks.htmlWebpackPluginAfterEmit = <span class="hljs-keyword">new</span> AsyncSeriesWaterfallHook([<span class="hljs-string">'pluginArgs'</span>]);
      });
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<p>Backwards compatible version of: compiler.hooks.make.tapAsync()</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    (compiler.hooks ? compiler.hooks.make.tapAsync.bind(compiler.hooks.make, <span class="hljs-string">'HtmlWebpackPlugin'</span>) : compiler.plugin.bind(compiler, <span class="hljs-string">'make'</span>))(<span class="hljs-function">(<span class="hljs-params">compilation, callback</span>) =&gt;</span> {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<p>Compile the template (queued)</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      compilationPromise = childCompiler.compileTemplate(self.options.template, compiler.context, self.options.filename, compilation)
        .catch(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> {
          compilation.errors.push(prettyError(err, compiler.context).toString());
          <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">content</span>: self.options.showErrors ? prettyError(err, compiler.context).toJsonHtml() : <span class="hljs-string">'ERROR'</span>,
            <span class="hljs-attr">outputName</span>: self.options.filename
          };
        })
        .then(<span class="hljs-function"><span class="hljs-params">compilationResult</span> =&gt;</span> {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8"></a>
</div>
<p>If the compilation change didnt change the cache is valid</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">          isCompilationCached = compilationResult.hash &amp;&amp; self.childCompilerHash === compilationResult.hash;
          self.childCompilerHash = compilationResult.hash;
          self.childCompilationOutputName = compilationResult.outputName;
          callback();
          <span class="hljs-keyword">return</span> compilationResult.content;
        });
    });

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9"></a>
</div>
<p>Backwards compatible version of: compiler.plugin.emit.tapAsync()</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    (compiler.hooks ? compiler.hooks.emit.tapAsync.bind(compiler.hooks.emit, <span class="hljs-string">'HtmlWebpackPlugin'</span>) : compiler.plugin.bind(compiler, <span class="hljs-string">'emit'</span>))(<span class="hljs-function">(<span class="hljs-params">compilation, callback</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> applyPluginsAsyncWaterfall = self.applyPluginsAsyncWaterfall(compilation);
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<p>Get chunks info as json
Note: we're excluding stuff that we don't need to improve toJson serialization speed.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      <span class="hljs-keyword">const</span> chunkOnlyConfig = {
        <span class="hljs-attr">assets</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">cached</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">children</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">chunks</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">chunkModules</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">chunkOrigins</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">errorDetails</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">hash</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">modules</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">reasons</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">source</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">timings</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">version</span>: <span class="hljs-literal">false</span>
      };
      <span class="hljs-keyword">const</span> allChunks = compilation.getStats().toJson(chunkOnlyConfig).chunks;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11"></a>
</div>
<p>Filter chunks (options.chunks and options.excludeCHunks)</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      <span class="hljs-keyword">let</span> chunks = self.filterChunks(allChunks, self.options.chunks, self.options.excludeChunks);
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12"></a>
</div>
<p>Sort chunks</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      chunks = self.sortChunks(chunks, self.options.chunksSortMode, compilation);
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13"></a>
</div>
<p>Let plugins alter the chunks and the chunk sorting</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      <span class="hljs-keyword">if</span> (compilation.hooks) {
        chunks = compilation.hooks.htmlWebpackPluginAlterChunks.call(chunks, { <span class="hljs-attr">plugin</span>: self });
      } <span class="hljs-keyword">else</span> {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14"></a>
</div>
<p>Before Webpack 4</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        chunks = compilation.applyPluginsWaterfall(<span class="hljs-string">'html-webpack-plugin-alter-chunks'</span>, chunks, { <span class="hljs-attr">plugin</span>: self });
      }
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15"></a>
</div>
<p>Get assets</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      <span class="hljs-keyword">const</span> assets = self.htmlWebpackPluginAssets(compilation, chunks);
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16"></a>
</div>
<p>If this is a hot update compilation, move on!
This solves a problem where an <code>index.html</code> file is generated for hot-update js files
It only happens in Webpack 2, where hot updates are emitted separately before the full bundle</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      <span class="hljs-keyword">if</span> (self.isHotUpdateCompilation(assets)) {
        <span class="hljs-keyword">return</span> callback();
      }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17"></a>
</div>
<p>If the template and the assets did not change we don't have to emit the html</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      <span class="hljs-keyword">const</span> assetJson = <span class="hljs-built_in">JSON</span>.stringify(self.getAssetFiles(assets));
      <span class="hljs-keyword">if</span> (isCompilationCached &amp;&amp; self.options.cache &amp;&amp; assetJson === self.assetJson) {
        <span class="hljs-keyword">return</span> callback();
      } <span class="hljs-keyword">else</span> {
        self.assetJson = assetJson;
      }

      <span class="hljs-built_in">Promise</span>.resolve()
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18"></a>
</div>
<p>Favicon</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        .then(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
          <span class="hljs-keyword">if</span> (self.options.favicon) {
            <span class="hljs-keyword">return</span> self.addFileToAssets(self.options.favicon, compilation)
              .then(<span class="hljs-function"><span class="hljs-params">faviconBasename</span> =&gt;</span> {
                <span class="hljs-keyword">let</span> publicPath = compilation.mainTemplate.getPublicPath({<span class="hljs-attr">hash</span>: compilation.hash}) || <span class="hljs-string">''</span>;
                <span class="hljs-keyword">if</span> (publicPath &amp;&amp; publicPath.substr(<span class="hljs-number">-1</span>) !== <span class="hljs-string">'/'</span>) {
                  publicPath += <span class="hljs-string">'/'</span>;
                }
                assets.favicon = publicPath + faviconBasename;
              });
          }
        })
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-19" id="section-19"></a>
</div>
<p>Wait for the compilation to finish</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        .then(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> compilationPromise)
        .then(<span class="hljs-function"><span class="hljs-params">compiledTemplate</span> =&gt;</span> {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-20" id="section-20"></a>
</div>
<p>Allow to use a custom function / string instead</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">          <span class="hljs-keyword">if</span> (self.options.templateContent !== <span class="hljs-literal">undefined</span>) {
            <span class="hljs-keyword">return</span> self.options.templateContent;
          }
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-21" id="section-21"></a>
</div>
<p>Once everything is compiled evaluate the html factory
and replace it with its content</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">          <span class="hljs-keyword">return</span> self.evaluateCompilationResult(compilation, compiledTemplate);
        })
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-22" id="section-22"></a>
</div>
<p>Allow plugins to make changes to the assets before invoking the template
This only makes sense to use if <code>inject</code> is <code>false</code></p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        .then(<span class="hljs-function"><span class="hljs-params">compilationResult</span> =&gt;</span> applyPluginsAsyncWaterfall(<span class="hljs-string">'html-webpack-plugin-before-html-generation'</span>, <span class="hljs-literal">false</span>, {
          <span class="hljs-attr">assets</span>: assets,
          <span class="hljs-attr">outputName</span>: self.childCompilationOutputName,
          <span class="hljs-attr">plugin</span>: self
        })
      .then(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> compilationResult))
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-23" id="section-23"></a>
</div>
<p>Execute the template</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        .then(<span class="hljs-function"><span class="hljs-params">compilationResult</span> =&gt;</span> <span class="hljs-keyword">typeof</span> compilationResult !== <span class="hljs-string">'function'</span>
        ? compilationResult
        : self.executeTemplate(compilationResult, chunks, assets, compilation))
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-24" id="section-24"></a>
</div>
<p>Allow plugins to change the html before assets are injected</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        .then(<span class="hljs-function"><span class="hljs-params">html</span> =&gt;</span> {
          <span class="hljs-keyword">const</span> pluginArgs = {<span class="hljs-attr">html</span>: html, <span class="hljs-attr">assets</span>: assets, <span class="hljs-attr">plugin</span>: self, <span class="hljs-attr">outputName</span>: self.childCompilationOutputName};
          <span class="hljs-keyword">return</span> applyPluginsAsyncWaterfall(<span class="hljs-string">'html-webpack-plugin-before-html-processing'</span>, <span class="hljs-literal">true</span>, pluginArgs);
        })
        .then(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> {
          <span class="hljs-keyword">const</span> html = result.html;
          <span class="hljs-keyword">const</span> assets = result.assets;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-25" id="section-25"></a>
</div>
<p>Prepare script and link tags</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">          <span class="hljs-keyword">const</span> assetTags = self.generateHtmlTags(assets);
          <span class="hljs-keyword">const</span> pluginArgs = {<span class="hljs-attr">head</span>: assetTags.head, <span class="hljs-attr">body</span>: assetTags.body, <span class="hljs-attr">plugin</span>: self, <span class="hljs-attr">chunks</span>: chunks, <span class="hljs-attr">outputName</span>: self.childCompilationOutputName};
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-26" id="section-26"></a>
</div>
<p>Allow plugins to change the assetTag definitions</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">          <span class="hljs-keyword">return</span> applyPluginsAsyncWaterfall(<span class="hljs-string">'html-webpack-plugin-alter-asset-tags'</span>, <span class="hljs-literal">true</span>, pluginArgs)
            .then(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> self.postProcessHtml(html, assets, { <span class="hljs-attr">body</span>: result.body, <span class="hljs-attr">head</span>: result.head })
            .then(<span class="hljs-function"><span class="hljs-params">html</span> =&gt;</span> _.extend(result, {<span class="hljs-attr">html</span>: html, <span class="hljs-attr">assets</span>: assets})));
        })
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-27" id="section-27"></a>
</div>
<p>Allow plugins to change the html after assets are injected</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        .then(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> {
          <span class="hljs-keyword">const</span> html = result.html;
          <span class="hljs-keyword">const</span> assets = result.assets;
          <span class="hljs-keyword">const</span> pluginArgs = {<span class="hljs-attr">html</span>: html, <span class="hljs-attr">assets</span>: assets, <span class="hljs-attr">plugin</span>: self, <span class="hljs-attr">outputName</span>: self.childCompilationOutputName};
          <span class="hljs-keyword">return</span> applyPluginsAsyncWaterfall(<span class="hljs-string">'html-webpack-plugin-after-html-processing'</span>, <span class="hljs-literal">true</span>, pluginArgs)
            .then(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> result.html);
        })
        .catch(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-28" id="section-28"></a>
</div>
<p>In case anything went wrong the promise is resolved
with the error message and an error is logged</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">          compilation.errors.push(prettyError(err, compiler.context).toString());
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-29" id="section-29"></a>
</div>
<p>Prevent caching</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">          self.hash = <span class="hljs-literal">null</span>;
          <span class="hljs-keyword">return</span> self.options.showErrors ? prettyError(err, compiler.context).toHtml() : <span class="hljs-string">'ERROR'</span>;
        })
        .then(<span class="hljs-function"><span class="hljs-params">html</span> =&gt;</span> {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-30" id="section-30"></a>
</div>
<p>Replace the compilation result with the evaluated html code</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">          compilation.assets[self.childCompilationOutputName] = {
            <span class="hljs-attr">source</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> html,
            <span class="hljs-attr">size</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> html.length
          };
        })
        .then(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> applyPluginsAsyncWaterfall(<span class="hljs-string">'html-webpack-plugin-after-emit'</span>, <span class="hljs-literal">false</span>, {
          <span class="hljs-attr">html</span>: compilation.assets[self.childCompilationOutputName],
          <span class="hljs-attr">outputName</span>: self.childCompilationOutputName,
          <span class="hljs-attr">plugin</span>: self
        }).catch(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> {
          <span class="hljs-built_in">console</span>.error(err);
          <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }).then(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-literal">null</span>))
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-31" id="section-31"></a>
</div>
<p>Let webpack continue with it</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        .then(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
          callback();
        });
    });
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-32" id="section-32"></a>
</div>
<div class="dox">
<div class="summary">
<p>Evaluates the child compilation result
Returns a promise</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  evaluateCompilationResult (compilation, source) {
    <span class="hljs-keyword">if</span> (!source) {
      <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.reject(<span class="hljs-string">'The child compilation didn\'t provide a result'</span>);
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-33" id="section-33"></a>
</div>
<p>The LibraryTemplatePlugin stores the template result in a local variable.
To extract the result during the evaluation this part has to be removed.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    source = source.replace(<span class="hljs-string">'var HTML_WEBPACK_PLUGIN_RESULT ='</span>, <span class="hljs-string">''</span>);
    <span class="hljs-keyword">const</span> template = <span class="hljs-keyword">this</span>.options.template.replace(<span class="hljs-regexp">/^.+!/</span>, <span class="hljs-string">''</span>).replace(<span class="hljs-regexp">/\?.+$/</span>, <span class="hljs-string">''</span>);
    <span class="hljs-keyword">const</span> vmContext = vm.createContext(_.extend({<span class="hljs-attr">HTML_WEBPACK_PLUGIN</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">require</span>: <span class="hljs-built_in">require</span>}, global));
    <span class="hljs-keyword">const</span> vmScript = <span class="hljs-keyword">new</span> vm.Script(source, {<span class="hljs-attr">filename</span>: template});
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-34" id="section-34"></a>
</div>
<p>Evaluate code and cast to string</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">let</span> newSource;
    <span class="hljs-keyword">try</span> {
      newSource = vmScript.runInContext(vmContext);
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.reject(e);
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> newSource === <span class="hljs-string">'object'</span> &amp;&amp; newSource.__esModule &amp;&amp; newSource.default) {
      newSource = newSource.default;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> newSource === <span class="hljs-string">'string'</span> || <span class="hljs-keyword">typeof</span> newSource === <span class="hljs-string">'function'</span>
      ? <span class="hljs-built_in">Promise</span>.resolve(newSource)
      : <span class="hljs-built_in">Promise</span>.reject(<span class="hljs-string">'The loader "'</span> + <span class="hljs-keyword">this</span>.options.template + <span class="hljs-string">'" didn\'t return html.'</span>);
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-35" id="section-35"></a>
</div>
<div class="dox">
<div class="summary">
<p>Generate the template parameters for the template function</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  getTemplateParameters (compilation, assets) {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.options.templateParameters === <span class="hljs-string">'function'</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.options.templateParameters(compilation, assets, <span class="hljs-keyword">this</span>.options);
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.options.templateParameters === <span class="hljs-string">'object'</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.options.templateParameters;
    }
    <span class="hljs-keyword">return</span> {};
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-36" id="section-36"></a>
</div>
<div class="dox">
<div class="summary">
<p>Html post processing</p>
</div>
<div class="body">
<p>Returns a promise</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  executeTemplate (templateFunction, chunks, assets, compilation) {
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.resolve()
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-37" id="section-37"></a>
</div>
<p>Template processing</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      .then(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        <span class="hljs-keyword">const</span> templateParams = <span class="hljs-keyword">this</span>.getTemplateParameters(compilation, assets);
        <span class="hljs-keyword">let</span> html = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">try</span> {
          html = templateFunction(templateParams);
        } <span class="hljs-keyword">catch</span> (e) {
          compilation.errors.push(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Template execution failed: '</span> + e));
          <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.reject(e);
        }
        <span class="hljs-keyword">return</span> html;
      });
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-38" id="section-38"></a>
</div>
<div class="dox">
<div class="summary">
<p>Html post processing</p>
</div>
<div class="body">
<p>Returns a promise</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  postProcessHtml (html, assets, assetTags) {
    <span class="hljs-keyword">const</span> self = <span class="hljs-keyword">this</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> html !== <span class="hljs-string">'string'</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.reject(<span class="hljs-string">'Expected html to be a string but got '</span> + <span class="hljs-built_in">JSON</span>.stringify(html));
    }
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.resolve()
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-39" id="section-39"></a>
</div>
<p>Inject</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      .then(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (self.options.inject) {
          <span class="hljs-keyword">return</span> self.injectAssetsIntoHtml(html, assets, assetTags);
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">return</span> html;
        }
      })
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-40" id="section-40"></a>
</div>
<p>Minify</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      .then(<span class="hljs-function"><span class="hljs-params">html</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (self.options.minify) {
          <span class="hljs-keyword">const</span> minify = <span class="hljs-built_in">require</span>(<span class="hljs-string">'html-minifier'</span>).minify;
          <span class="hljs-keyword">return</span> minify(html, self.options.minify);
        }
        <span class="hljs-keyword">return</span> html;
      });
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-41" id="section-41"></a>
</div>
<div class="dox">
<div class="summary">
<p>Pushes the content of the given filename to the compilation assets</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  addFileToAssets (filename, compilation) {
    filename = path.resolve(compilation.compiler.context, filename);
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.all([
      fsStatAsync(filename),
      fsReadFileAsync(filename)
    ])
    .then(<span class="hljs-function">(<span class="hljs-params">[size, source]</span>) =&gt;</span> {
      <span class="hljs-keyword">return</span> {
        size,
        source
      };
    })
    .catch(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-built_in">Promise</span>.reject(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'HtmlWebpackPlugin: could not load file '</span> + filename)))
    .then(<span class="hljs-function"><span class="hljs-params">results</span> =&gt;</span> {
      <span class="hljs-keyword">const</span> basename = path.basename(filename);
      <span class="hljs-keyword">if</span> (compilation.fileDependencies.add) {
        compilation.fileDependencies.add(filename);
      } <span class="hljs-keyword">else</span> {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-42" id="section-42"></a>
</div>
<p>Before Webpack 4 - fileDepenencies was an array</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        compilation.fileDependencies.push(filename);
      }
      compilation.assets[basename] = {
        <span class="hljs-attr">source</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> results.source,
        <span class="hljs-attr">size</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> results.size.size
      };
      <span class="hljs-keyword">return</span> basename;
    });
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-43" id="section-43"></a>
</div>
<div class="dox">
<div class="summary">
<p>Helper to sort chunks</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  sortChunks (chunks, sortMode, compilation) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-44" id="section-44"></a>
</div>
<p>Custom function</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> sortMode === <span class="hljs-string">'function'</span>) {
      <span class="hljs-keyword">return</span> chunks.sort(sortMode);
    }
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-45" id="section-45"></a>
</div>
<p>Check if the given sort mode is a valid chunkSorter sort mode</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> chunkSorter[sortMode] !== <span class="hljs-string">'undefined'</span>) {
      <span class="hljs-keyword">return</span> chunkSorter[sortMode](chunks, <span class="hljs-keyword">this</span>.options, compilation);
    }
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'"'</span> + sortMode + <span class="hljs-string">'" is not a valid chunk sort mode'</span>);
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-46" id="section-46"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return all chunks from the compilation result which match the exclude and include filters</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  filterChunks (chunks, includedChunks, excludedChunks) {
    <span class="hljs-keyword">return</span> chunks.filter(<span class="hljs-function"><span class="hljs-params">chunk</span> =&gt;</span> {
      <span class="hljs-keyword">const</span> chunkName = chunk.names[<span class="hljs-number">0</span>];
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-47" id="section-47"></a>
</div>
<p>This chunk doesn't have a name. This script can't handled it.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      <span class="hljs-keyword">if</span> (chunkName === <span class="hljs-literal">undefined</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
      }
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-48" id="section-48"></a>
</div>
<p>Skip if the chunk should be lazy loaded</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> chunk.isInitial === <span class="hljs-string">'function'</span>) {
        <span class="hljs-keyword">if</span> (!chunk.isInitial()) {
          <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!chunk.initial) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
      }
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-49" id="section-49"></a>
</div>
<p>Skip if the chunks should be filtered and the given chunk was not added explicity</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Array</span>.isArray(includedChunks) &amp;&amp; includedChunks.indexOf(chunkName) === <span class="hljs-number">-1</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
      }
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-50" id="section-50"></a>
</div>
<p>Skip if the chunks should be filtered and the given chunk was excluded explicity</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Array</span>.isArray(excludedChunks) &amp;&amp; excludedChunks.indexOf(chunkName) !== <span class="hljs-number">-1</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
      }
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-51" id="section-51"></a>
</div>
<p>Add otherwise</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    });
  }

  isHotUpdateCompilation (assets) {
    <span class="hljs-keyword">return</span> assets.js.length &amp;&amp; assets.js.every(<span class="hljs-function"><span class="hljs-params">name</span> =&gt;</span> /\.hot-update\.js$/.test(name));
  }

  htmlWebpackPluginAssets (compilation, chunks) {
    <span class="hljs-keyword">const</span> self = <span class="hljs-keyword">this</span>;
    <span class="hljs-keyword">const</span> compilationHash = compilation.hash;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-52" id="section-52"></a>
</div>
<p>Use the configured public path or build a relative path</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">let</span> publicPath = <span class="hljs-keyword">typeof</span> compilation.options.output.publicPath !== <span class="hljs-string">'undefined'</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-53" id="section-53"></a>
</div>
<p>If a hard coded public path exists use it</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      ? compilation.mainTemplate.getPublicPath({<span class="hljs-attr">hash</span>: compilationHash})
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-54" id="section-54"></a>
</div>
<p>If no public path was set get a relative url path</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      : path.relative(path.resolve(compilation.options.output.path, path.dirname(self.childCompilationOutputName)), compilation.options.output.path)
        .split(path.sep).join(<span class="hljs-string">'/'</span>);

    <span class="hljs-keyword">if</span> (publicPath.length &amp;&amp; publicPath.substr(<span class="hljs-number">-1</span>, <span class="hljs-number">1</span>) !== <span class="hljs-string">'/'</span>) {
      publicPath += <span class="hljs-string">'/'</span>;
    }

    <span class="hljs-keyword">const</span> assets = {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-55" id="section-55"></a>
</div>
<p>The public path</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      publicPath: publicPath,
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-56" id="section-56"></a>
</div>
<p>Will contain all js &amp; css files by chunk</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      chunks: {},
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-57" id="section-57"></a>
</div>
<p>Will contain all js files</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      js: [],
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-58" id="section-58"></a>
</div>
<p>Will contain all css files</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      css: [],
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-59" id="section-59"></a>
</div>
<p>Will contain the html5 appcache manifest files if it exists</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      manifest: <span class="hljs-built_in">Object</span>.keys(compilation.assets).filter(<span class="hljs-function"><span class="hljs-params">assetFile</span> =&gt;</span> path.extname(assetFile) === <span class="hljs-string">'.appcache'</span>)[<span class="hljs-number">0</span>]
    };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-60" id="section-60"></a>
</div>
<p>Append a hash for cache busting</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.hash) {
      assets.manifest = self.appendHash(assets.manifest, compilationHash);
      assets.favicon = self.appendHash(assets.favicon, compilationHash);
    }

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; chunks.length; i++) {
      <span class="hljs-keyword">const</span> chunk = chunks[i];
      <span class="hljs-keyword">const</span> chunkName = chunk.names[<span class="hljs-number">0</span>];

      assets.chunks[chunkName] = {};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-61" id="section-61"></a>
</div>
<p>Prepend the public path to all chunk files</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      <span class="hljs-keyword">let</span> chunkFiles = [].concat(chunk.files).map(<span class="hljs-function"><span class="hljs-params">chunkFile</span> =&gt;</span> publicPath + chunkFile);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-62" id="section-62"></a>
</div>
<p>Append a hash for cache busting</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.hash) {
        chunkFiles = chunkFiles.map(<span class="hljs-function"><span class="hljs-params">chunkFile</span> =&gt;</span> self.appendHash(chunkFile, compilationHash));
      }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-63" id="section-63"></a>
</div>
<p>Webpack outputs an array for each chunk when using sourcemaps
or when one chunk hosts js and css simultaneously</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      <span class="hljs-keyword">const</span> js = chunkFiles.find(<span class="hljs-function"><span class="hljs-params">chunkFile</span> =&gt;</span> /.js($|\?)/.test(chunkFile));
      <span class="hljs-keyword">if</span> (js) {
        assets.chunks[chunkName].size = chunk.size;
        assets.chunks[chunkName].entry = js;
        assets.chunks[chunkName].hash = chunk.hash;
        assets.js.push(js);
      }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-64" id="section-64"></a>
</div>
<p>Gather all css files</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      <span class="hljs-keyword">const</span> css = chunkFiles.filter(<span class="hljs-function"><span class="hljs-params">chunkFile</span> =&gt;</span> /.css($|\?)/.test(chunkFile));
      assets.chunks[chunkName].css = css;
      assets.css = assets.css.concat(css);
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-65" id="section-65"></a>
</div>
<p>Duplicate css assets can occur on occasion if more than one chunk
requires the same css.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    assets.css = _.uniq(assets.css);

    <span class="hljs-keyword">return</span> assets;
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-66" id="section-66"></a>
</div>
<div class="dox">
<div class="summary">
<p>Generate meta tags</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  getMetaTags () {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.meta === <span class="hljs-literal">false</span>) {
      <span class="hljs-keyword">return</span> [];
    }
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-67" id="section-67"></a>
</div>
<p>Make tags self-closing in case of xhtml
Turn { &quot;viewport&quot; : &quot;width=500, initial-scale=1&quot; } into
[{ name:&quot;viewport&quot; content:&quot;width=500, initial-scale=1&quot; }]</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">const</span> selfClosingTag = !!<span class="hljs-keyword">this</span>.options.xhtml;
    <span class="hljs-keyword">const</span> metaTagAttributeObjects = <span class="hljs-built_in">Object</span>.keys(<span class="hljs-keyword">this</span>.options.meta).map(<span class="hljs-function">(<span class="hljs-params">metaName</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> metaTagContent = <span class="hljs-keyword">this</span>.options.meta[metaName];
      <span class="hljs-keyword">return</span> (<span class="hljs-keyword">typeof</span> metaTagContent === <span class="hljs-string">'object'</span>) ? metaTagContent : {
        <span class="hljs-attr">name</span>: metaName,
        <span class="hljs-attr">content</span>: metaTagContent
      };
    });
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-68" id="section-68"></a>
</div>
<p>Turn [{ name:&quot;viewport&quot; content:&quot;width=500, initial-scale=1&quot; }] into
the html-webpack-plugin tag structure</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">return</span> metaTagAttributeObjects.map(<span class="hljs-function">(<span class="hljs-params">metaTagAttributes</span>) =&gt;</span> {
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">tagName</span>: <span class="hljs-string">'meta'</span>,
        <span class="hljs-attr">voidTag</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">selfClosingTag</span>: selfClosingTag,
        <span class="hljs-attr">attributes</span>: metaTagAttributes
      };
    });
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-69" id="section-69"></a>
</div>
<div class="dox">
<div class="summary">
<p>Injects the assets into the given html string</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  generateHtmlTags (assets) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-70" id="section-70"></a>
</div>
<p>Turn script files into script tags</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">const</span> scripts = assets.js.map(<span class="hljs-function"><span class="hljs-params">scriptPath</span> =&gt;</span> ({
      <span class="hljs-attr">tagName</span>: <span class="hljs-string">'script'</span>,
      <span class="hljs-attr">closeTag</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">attributes</span>: {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'text/javascript'</span>,
        <span class="hljs-attr">src</span>: scriptPath
      }
    }));
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-71" id="section-71"></a>
</div>
<p>Make tags self-closing in case of xhtml</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">const</span> selfClosingTag = !!<span class="hljs-keyword">this</span>.options.xhtml;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-72" id="section-72"></a>
</div>
<p>Turn css files into link tags</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">const</span> styles = assets.css.map(<span class="hljs-function"><span class="hljs-params">stylePath</span> =&gt;</span> ({
      <span class="hljs-attr">tagName</span>: <span class="hljs-string">'link'</span>,
      <span class="hljs-attr">selfClosingTag</span>: selfClosingTag,
      <span class="hljs-attr">voidTag</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">attributes</span>: {
        <span class="hljs-attr">href</span>: stylePath,
        <span class="hljs-attr">rel</span>: <span class="hljs-string">'stylesheet'</span>
      }
    }));
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-73" id="section-73"></a>
</div>
<p>Injection targets</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">let</span> head = <span class="hljs-keyword">this</span>.getMetaTags();
    <span class="hljs-keyword">let</span> body = [];

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-74" id="section-74"></a>
</div>
<p>If there is a favicon present, add it to the head</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (assets.favicon) {
      head.push({
        <span class="hljs-attr">tagName</span>: <span class="hljs-string">'link'</span>,
        <span class="hljs-attr">selfClosingTag</span>: selfClosingTag,
        <span class="hljs-attr">voidTag</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">attributes</span>: {
          <span class="hljs-attr">rel</span>: <span class="hljs-string">'shortcut icon'</span>,
          <span class="hljs-attr">href</span>: assets.favicon
        }
      });
    }
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-75" id="section-75"></a>
</div>
<p>Add styles to the head</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    head = head.concat(styles);
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-76" id="section-76"></a>
</div>
<p>Add scripts to body or head</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.inject === <span class="hljs-string">'head'</span>) {
      head = head.concat(scripts);
    } <span class="hljs-keyword">else</span> {
      body = body.concat(scripts);
    }
    <span class="hljs-keyword">return</span> {<span class="hljs-attr">head</span>: head, <span class="hljs-attr">body</span>: body};
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-77" id="section-77"></a>
</div>
<div class="dox">
<div class="summary">
<p>Injects the assets into the given html string</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  injectAssetsIntoHtml (html, assets, assetTags) {
    <span class="hljs-keyword">const</span> htmlRegExp = <span class="hljs-regexp">/(&lt;html[^&gt;]*&gt;)/i</span>;
    <span class="hljs-keyword">const</span> headRegExp = <span class="hljs-regexp">/(&lt;\/head\s*&gt;)/i</span>;
    <span class="hljs-keyword">const</span> bodyRegExp = <span class="hljs-regexp">/(&lt;\/body\s*&gt;)/i</span>;
    <span class="hljs-keyword">const</span> body = assetTags.body.map(<span class="hljs-keyword">this</span>.createHtmlTag.bind(<span class="hljs-keyword">this</span>));
    <span class="hljs-keyword">const</span> head = assetTags.head.map(<span class="hljs-keyword">this</span>.createHtmlTag.bind(<span class="hljs-keyword">this</span>));

    <span class="hljs-keyword">if</span> (body.length) {
      <span class="hljs-keyword">if</span> (bodyRegExp.test(html)) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-78" id="section-78"></a>
</div>
<p>Append assets to body element</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        html = html.replace(bodyRegExp, match =&gt; body.join(<span class="hljs-string">''</span>) + match);
      } <span class="hljs-keyword">else</span> {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-79" id="section-79"></a>
</div>
<p>Append scripts to the end of the file if no <body> element exists:</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        html += body.join(<span class="hljs-string">''</span>);
      }
    }

    <span class="hljs-keyword">if</span> (head.length) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-80" id="section-80"></a>
</div>
<p>Create a head tag if none exists</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      <span class="hljs-keyword">if</span> (!headRegExp.test(html)) {
        <span class="hljs-keyword">if</span> (!htmlRegExp.test(html)) {
          html = <span class="hljs-string">'&lt;head&gt;&lt;/head&gt;'</span> + html;
        } <span class="hljs-keyword">else</span> {
          html = html.replace(htmlRegExp, match =&gt; match + <span class="hljs-string">'&lt;head&gt;&lt;/head&gt;'</span>);
        }
      }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-81" id="section-81"></a>
</div>
<p>Append assets to head element</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      html = html.replace(headRegExp, match =&gt; head.join(<span class="hljs-string">''</span>) + match);
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-82" id="section-82"></a>
</div>
<p>Inject manifest into the opening html tag</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (assets.manifest) {
      html = html.replace(<span class="hljs-regexp">/(&lt;html[^&gt;]*)(&gt;)/i</span>, (match, start, end) =&gt; {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-83" id="section-83"></a>
</div>
<p>Append the manifest only if no manifest was specified</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/\smanifest\s*=/</span>.test(match)) {
          <span class="hljs-keyword">return</span> match;
        }
        <span class="hljs-keyword">return</span> start + <span class="hljs-string">' manifest="'</span> + assets.manifest + <span class="hljs-string">'"'</span> + end;
      });
    }
    <span class="hljs-keyword">return</span> html;
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-84" id="section-84"></a>
</div>
<div class="dox">
<div class="summary">
<p>Appends a cache busting hash</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  appendHash (url, hash) {
    <span class="hljs-keyword">if</span> (!url) {
      <span class="hljs-keyword">return</span> url;
    }
    <span class="hljs-keyword">return</span> url + (url.indexOf(<span class="hljs-string">'?'</span>) === <span class="hljs-number">-1</span> ? <span class="hljs-string">'?'</span> : <span class="hljs-string">'&amp;'</span>) + hash;
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-85" id="section-85"></a>
</div>
<div class="dox">
<div class="summary">
<p>Turn a tag definition into a html string</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  createHtmlTag (tagDefinition) {
    <span class="hljs-keyword">const</span> attributes = <span class="hljs-built_in">Object</span>.keys(tagDefinition.attributes || {})
      .filter(<span class="hljs-function"><span class="hljs-params">attributeName</span> =&gt;</span> tagDefinition.attributes[attributeName] !== <span class="hljs-literal">false</span>)
      .map(<span class="hljs-function"><span class="hljs-params">attributeName</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (tagDefinition.attributes[attributeName] === <span class="hljs-literal">true</span>) {
          <span class="hljs-keyword">return</span> attributeName;
        }
        <span class="hljs-keyword">return</span> attributeName + <span class="hljs-string">'="'</span> + tagDefinition.attributes[attributeName] + <span class="hljs-string">'"'</span>;
      });
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-86" id="section-86"></a>
</div>
<p>Backport of 3.x void tag definition</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">const</span> voidTag = tagDefinition.voidTag !== <span class="hljs-literal">undefined</span> ? tagDefinition.voidTag : !tagDefinition.closeTag;
    <span class="hljs-keyword">const</span> selfClosingTag = tagDefinition.voidTag !== <span class="hljs-literal">undefined</span> ? tagDefinition.voidTag &amp;&amp; <span class="hljs-keyword">this</span>.options.xhtml : tagDefinition.selfClosingTag;
    <span class="hljs-keyword">return</span> <span class="hljs-string">'&lt;'</span> + [tagDefinition.tagName].concat(attributes).join(<span class="hljs-string">' '</span>) + (selfClosingTag ? <span class="hljs-string">'/'</span> : <span class="hljs-string">''</span>) + <span class="hljs-string">'&gt;'</span> +
      (tagDefinition.innerHTML || <span class="hljs-string">''</span>) +
      (voidTag ? <span class="hljs-string">''</span> : <span class="hljs-string">'&lt;/'</span> + tagDefinition.tagName + <span class="hljs-string">'&gt;'</span>);
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-87" id="section-87"></a>
</div>
<div class="dox">
<div class="summary">
<p>Helper to return the absolute template path with a fallback loader</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  getFullTemplatePath (template, context) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-88" id="section-88"></a>
</div>
<p>If the template doesn't use a loader use the lodash template loader</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (template.indexOf(<span class="hljs-string">'!'</span>) === <span class="hljs-number">-1</span>) {
      template = <span class="hljs-built_in">require</span>.resolve(<span class="hljs-string">'./lib/loader.js'</span>) + <span class="hljs-string">'!'</span> + path.resolve(context, template);
    }
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-89" id="section-89"></a>
</div>
<p>Resolve template path</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">return</span> template.replace(
      <span class="hljs-regexp">/([!])([^/\\][^!?]+|[^/\\!?])($|\?[^!?\n]+$)/</span>,
      (match, prefix, filepath, postfix) =&gt; prefix + path.resolve(filepath) + postfix);
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-90" id="section-90"></a>
</div>
<div class="dox">
<div class="summary">
<p>Helper to return a sorted unique array of all asset files out of the
asset object</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  getAssetFiles (assets) {
    <span class="hljs-keyword">const</span> files = _.uniq(<span class="hljs-built_in">Object</span>.keys(assets).filter(<span class="hljs-function"><span class="hljs-params">assetType</span> =&gt;</span> assetType !== <span class="hljs-string">'chunks'</span> &amp;&amp; assets[assetType]).reduce(<span class="hljs-function">(<span class="hljs-params">files, assetType</span>) =&gt;</span> files.concat(assets[assetType]), []));
    files.sort();
    <span class="hljs-keyword">return</span> files;
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-91" id="section-91"></a>
</div>
<div class="dox">
<div class="summary">
<p>Helper to promisify compilation.applyPluginsAsyncWaterfall that returns
a function that helps to merge given plugin arguments with processed ones</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  applyPluginsAsyncWaterfall (compilation) {
    <span class="hljs-keyword">if</span> (compilation.hooks) {
      <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">eventName, requiresResult, pluginArgs</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> ccEventName = trainCaseToCamelCase(eventName);
        <span class="hljs-keyword">if</span> (!compilation.hooks[ccEventName]) {
          compilation.errors.push(
            <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'No hook found for '</span> + eventName)
          );
        }

        <span class="hljs-keyword">return</span> compilation.hooks[ccEventName].promise(pluginArgs);
      };
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-92" id="section-92"></a>
</div>
<p>Before Webpack 4</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">const</span> promisedApplyPluginsAsyncWaterfall = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">name, init</span>) </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> callback = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, result</span>) </span>{
          <span class="hljs-keyword">if</span> (err) {
            <span class="hljs-keyword">return</span> reject(err);
          }
          resolve(result);
        };
        compilation.applyPluginsAsyncWaterfall(name, init, callback);
      });
    };

    <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">eventName, requiresResult, pluginArgs</span>) =&gt;</span> promisedApplyPluginsAsyncWaterfall(eventName, pluginArgs)
      .then(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (requiresResult &amp;&amp; !result) {
          compilation.warnings.push(
            <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Using '</span> + eventName + <span class="hljs-string">' without returning a result is deprecated.'</span>)
          );
        }
        <span class="hljs-keyword">return</span> _.extend(pluginArgs, result);
      });
  }
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-93" id="section-93"></a>
</div>
<div class="dox">
<div class="summary">
<p>Takes a string in train case and transforms it to camel case</p>
</div>
<div class="body">
<p>Example: 'hello-my-world' to 'helloMyWorld'</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">word</span>
<span class="dox_type">string</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">trainCaseToCamelCase</span> (<span class="hljs-params">word</span>) </span>{
  <span class="hljs-keyword">return</span> word.replace(<span class="hljs-regexp">/-([\w])/g</span>, (match, p1) =&gt; p1.toUpperCase());
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-94" id="section-94"></a>
</div>
<div class="dox">
<div class="summary">
<p>The default for options.templateParameter
Generate the template parameters</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">templateParametersGenerator</span> (<span class="hljs-params">compilation, assets, options</span>) </span>{
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">compilation</span>: compilation,
    <span class="hljs-attr">webpack</span>: compilation.getStats().toJson(),
    <span class="hljs-attr">webpackConfig</span>: compilation.options,
    <span class="hljs-attr">htmlWebpackPlugin</span>: {
      <span class="hljs-attr">files</span>: assets,
      <span class="hljs-attr">options</span>: options
    }
  };
}

<span class="hljs-built_in">module</span>.exports = HtmlWebpackPlugin;

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
